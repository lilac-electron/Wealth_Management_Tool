<!DOCTYPE html>
<html lang="en">
{% import "bootstrap/wtf.html" as wtf %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <!-- Bootstrap CSS -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        /* Add this CSS to your existing stylesheet or in a style tag */
        .flash-messages {
            list-style-type: none;
            padding: 1px;
        }

        .success {
            background-color: #d4edda; /* Green background color */
            border: 1px solid #c3e6cb; /* Green border color */
            color: #155724; /* Dark green text color */
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        .danger {
            background-color: #f8d7da; /* Red background color */
            border: 1px solid #f5c6cb; /* Red border color */
            color: #721c24; /* Dark red text color */
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        .flash-container{
            text-align: center;
        }
    </style>
</head>
<body class="bg-light">

    <div class="container mx-auto">
        <div class="row justify-content-center mt-5">
            <div class="col-md-6 col-sm-12">

                <div class="card">
                    <div class="card-header bg-dark text-white text-center">
                        <h3>Register</h3>
                    </div>
                    <div class="card-body">
                        {% with messages = get_flashed_messages(with_categories=true) %}
                            {% if messages %}
                            <div class="flash-container">
                                <ul class="flash-messages">
                                    {% for category, message in messages %}
                                        <li class="{{ category }}">{{ message }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                            {% endif %}
                        {% endwith %}
                        <form id="registrationForm" method="POST" action="/register">
                            {{ form.hidden_tag() }}

                            <div class="mb-3">
                                {{ wtf.form_field(form.email, class="form-control", placeholder="Nushi.wang@test.com") }}
                            </div>

                            <div class="mb-3">
                                {{ wtf.form_field(form.username, class="form-control", placeholder="NushiWang") }}
                            </div>

                            <div class="mb-3">
                                {{ wtf.form_field(form.password, class="form-control", placeholder="SuperS3cureP4ssw0rd!") }}
                            </div>

                            <button class="btn btn-dark w-100" type="submit">Register</button>

                            <p class="mt-3 text-center">Already have an account? <a href="/login">Login</a></p>
                        </form>
                        <p><small>
                            Please note the security protocols are not the main focus of this project, and you should not use 
                            any emails or usernames that identify you (i.e please just make them up, there is no authentication), or passwords
                            that are used on other sites.
                        </small></p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Bootstrap JS (optional, but may be required for certain features) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
